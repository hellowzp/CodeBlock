#ifndef HEROREAL_H
#define HEROREAL_H

#include <QThread>
#include "hero.h"

class HeroReal: public QThread, public Hero
{
    Q_OBJECT

public:
    HeroReal(int role, int id, int x, int y, int healthPercentage, int magicPercentage);

    void faceToDirection(int d);
    void startMoving();
    void stopMoving();

    int getHealthPercentage();
    int getMagicPercentage();

    void releaseMagicAt(int x, int y);

signals:
    void needToMove();
    void heroMoved(int id, int x, int y);
    void heroMovingStoped(int id);
    void needToRepathOpponents(int heroId);
    void magicReleased(int id, int withSword, int x, int y);
    void heroInjured(int id, int leftPercentage);
    void giftPicked(int heroId, int giftId, int giftType);


private slots:
    void moveOneStep();
    void injureHero(int value);
    void equipmentChanged(bool sword, bool armor, bool boot);

private:
    void run();

    int _healthValue;
    const int _totalHealth = 1000;
    int _magicValue;
    const int _totalMagic = 1000;
    int _speed = 5;

    bool _sword;
    bool _armor;
    bool _boot;

    int _facingDir;
    int _movingCounter;
};

#endif // HEROREAL_H
