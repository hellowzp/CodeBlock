#include "heroshadow.h"
#include "mainwindow.h"

HeroShadow::HeroShadow(int role, int id, int x, int y, int healthPercentage, int magicPercentage) : Tile(x, y, 0)
{

    this->_id = id;
    this->_role = role;

    this->_healthBar = new StatusBar(StatusBar::HealthBar, this);
    this->_healthBar->setTransform(QTransform().translate(0, -12));
    this->_healthBar->setPercentage(healthPercentage);
    this->_magicBar = new StatusBar(StatusBar::MagicBar, this);
    this->_magicBar->setTransform(QTransform().translate(0, -5));
    this->_magicBar->setPercentage(magicPercentage);

    this->setPixmap(QPixmap(":/world/angry-bird-icon.png").transformed(QTransform().rotate(0)));

    this->setPos(this->getXPos() * SCALE_FACTOR, this->getYPos() * SCALE_FACTOR);
}

void HeroShadow::moveToPoint(int x, int y)
{
    this->setXPos(x);
    this->setYPos(y);
    this->setPos(this->getXPos() * SCALE_FACTOR, this->getYPos() * SCALE_FACTOR);
}

int HeroShadow::getId()
{
    return _id;
}
